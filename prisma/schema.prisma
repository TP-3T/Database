datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// 20251009 OG - Adding models for the ER diagram created in class today
model WorldState {
  world_state_id Int @id @default(autoincrement())
  pollution      Int
  temperature    Int
  year           Int
  sea_level      Int

  maps Map[]
}

model Map {
  map_id         Int    @id @default(autoincrement())
  world_state_id Int
  steam_id       String
  map_name       String

  world_state WorldState @relation(fields: [world_state_id], references: [world_state_id])
  map_tiles   MapTile[]
}

model MapTile {
  map_id       Int     
  tile_data_id Int     
  feature      Int
  y_coord      Int
  x_coord      Int
  owner        Int
  label        String?

  map       Map      @relation(fields: [map_id], references: [map_id])
  tile_data TileData @relation(fields: [tile_data_id], references: [tile_data_id])

  @@id([map_id, tile_data_id])
}

model TileData {
  tile_data_id Int @id @default(autoincrement())
  tile_type    Int
  elevation    Int

  map_tiles MapTile[]
}
